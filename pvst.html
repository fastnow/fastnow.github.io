<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta property="og:description" content="æœ¬é¡µé¢æä¾›pç«™é™åˆ¶åˆ†åŒºåœ¨çº¿éšæœºå›¾ç‰‡æµè§ˆæœåŠ¡ã€‚pixivæ˜¯ç”±pixivæ ªå¼ä¼šç¤¾è¿è¥çš„ï¼Œä¸»è¦é¢å‘æ—¥æœ¬ç”¨æˆ·çš„è‰ºæœ¯å®¶ç¤¾äº¤ç½‘ç«™ï¼Œæ›¾è¢«ç§°ä½œæ—¥æœ¬æœ€æˆåŠŸçš„ç”»ä½œæŠ•ç¨¿ç¤¾äº¤ç½‘ç«™ï¼Œåœ¨ä¸­å›½å¤§é™†ä¿—ç§°Pç«™ã€è“Pç«™ã€‚">
<title>pixivST</title>
<style>
body{margin:0;padding:10px;background:#fff;color:#000;font:14px monospace;}
.container{max-width:1000px;margin:0 auto;}
.loading{text-align:center;padding:20px;}
.grid{display:block;}
.preview-box{cursor:pointer;border:1px solid #ccc;margin-bottom:10px;}
.preview-img{width:100%;height:auto;display:block;}
.meta-item{margin:10px 0;padding:10px;border-left:3px solid #06c;}
.tag{display:inline-block;background:#ddd;padding:2px 8px;margin:2px;border-radius:3px;}
.button{background:#06c;color:#fff;border:none;padding:8px 12px;margin:5px;cursor:pointer;}
.theme-toggle{position:fixed;bottom:10px;right:10px;}
.disclaimer{position:fixed;top:0;left:0;width:100%;height:100%;background:#000;color:#fff;z-index:100;padding:20px;box-sizing:border-box;}
</style>
</head>
<body>
<div id="disclaimer" class="disclaimer">
<h2>æ³¨æ„</h2>
<p>1. å†…å®¹ä¸ºè‡ªåŠ¨æ”¶é›†ï¼Œä¸ä»£è¡¨æœ¬ç«™ç«‹åœº</p>
<p>2. ä½¿ç”¨è€…è‡ªè¡Œåˆ¤æ–­ï¼Œæœ¬ç«™ä¸æ‰¿æ‹…æ³•å¾‹è´£ä»»</p>
<p>3. å›¾ç‰‡æ— æ³•æ˜¾ç¤ºè¯·åˆ·æ–°</p>
<p>4. ç»§ç»­ä½¿ç”¨è¡¨ç¤ºåŒæ„æœ¬å£°æ˜</p>
<button class="button" onclick="acceptDisclaimer()">åŒæ„å¹¶ç»§ç»­</button>
</div>
<div class="container">
<div id="loading" class="loading">åŠ è½½ä¸­...</div>
<div id="display-area"></div>
</div>
<button class="button theme-toggle" onclick="toggleTheme()">ğŸŒ“</button>
<script>
const endpoints={list:'https://gcore.jsdelivr.net/gh/Mabbs/pixiv-index/index.json',detail:'https://gcore.jsdelivr.net/gh/Mabbs/pixiv-index/data/',image:'i.pximg.net/'};
let currentData=null;
function loadContent(){
document.getElementById('loading').style.display='block';
fetch(endpoints.list).then(r=>r.json()).then(files=>{
const f=files[Math.floor(Math.random()*files.length)];
fetch(endpoints.detail+(f.includes('.json')?f:f+'.json')).then(r=>r.json()).then(data=>{
currentData=data;
const c=document.getElementById('display-area');
const img=data.urls?.regular||data.url;
const t=new Date(data.uploadDate);
c.innerHTML=`<div class="preview-box" onclick="zoomImage()"><img class="preview-img" src="${img}" alt=""></div>
<div class="meta-item"><strong>${data.title}</strong><br>ä½œè€…ï¼š${data.author}<br>PIDï¼š${data.pid}<br>æ—¶é—´ï¼š${t.toLocaleString('zh-CN')}<br>å°ºå¯¸ï¼š${data.width}Ã—${data.height}<br>AIï¼š${data.aiType?'æ˜¯':'å¦'}</div>
<div class="meta-item">æ ‡ç­¾ï¼š${data.tags.map(t=>`<span class="tag">${t}</span>`).join('')}</div>
<div><button class="button" onclick="downloadImage()">ä¸‹è½½</button><button class="button" onclick="loadContent()">éšæœº</button></div>`;
document.getElementById('loading').style.display='none';
}).catch(e=>{alert('åŠ è½½å¤±è´¥');document.getElementById('loading').style.display='none';});
}).catch(e=>{alert('åˆ—è¡¨å¤±è´¥');document.getElementById('loading').style.display='none';});
}
function checkDisclaimer(){if(!localStorage.disclaimerAccepted)document.getElementById('disclaimer').style.display='block';}
function acceptDisclaimer(){localStorage.disclaimerAccepted=1;document.getElementById('disclaimer').style.display='none';loadContent();}
function downloadImage(){const a=document.createElement('a');a.href=currentData.urls?.original||currentData.url;a.download=`${currentData.title}.${currentData.ext}`;document.body.appendChild(a);a.click();a.remove();}
function zoomImage(){const o=document.createElement('div');o.style='position:fixed;top:0;left:0;width:100%;height:100%;background:#000;z-index:99;';o.onclick=()=>o.remove();const i=document.createElement('img');i.src=currentData.urls?.original||currentData.url;i.style='max-width:90%;max-height:90%;margin:5% auto;display:block;';o.appendChild(i);document.body.appendChild(o);}
function toggleTheme(){document.body.style.backgroundColor=document.body.style.backgroundColor==='#000'?'#fff':'#000';document.body.style.color=document.body.style.color==='#fff'?'#000':'#fff';}
document.onkeydown=e=>{if(e.key==='ArrowRight')loadContent();};
window.onload=()=>{checkDisclaimer();};
</script>
</body>
</html>
